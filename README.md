# 智通行·睿途通达 - 智慧交通平台

## 项目概述

智通行·睿途通达是一款基于前后端分离架构的智慧交通平台，旨在通过实时监控、智能分析和数据可视化，提升城市交通管理效率，改善市民出行体验。该平台整合了实时交通数据、地理信息系统、数据统计分析等功能，为交通管理部门和市民提供全面的交通信息服务。

### 项目目标

- 实时监控城市交通状况，包括车流量、车速、拥堵情况等
- 提供直观的交通地图可视化，便于快速了解路况信息
- 智能分析交通数据，生成统计报告，辅助交通管理决策
- 实现交通资源的有效管理和调度

## 功能特点

### 1. 实时数据监控

- **首页概览**：展示实时车流量、平均车速、拥堵路段数量和事故数量等关键指标
- **数据可视化**：通过图表直观展示交通数据变化趋势
- **实时更新**：数据自动刷新，确保信息的时效性

### 2. 交通地图

- **地图展示**：基于高德地图API的交互式地图
- **路况实时显示**：不同颜色标注路段拥堵情况
- **点位标记**：显示交通摄像头、信号灯等设施位置
- **区域筛选**：支持按区域查看交通状况

### 3. 统计分析

- **历史数据查询**：支持按时间范围查询交通数据
- **多维度分析**：包括流量分析、车速分析、拥堵分析等
- **图表展示**：使用ECharts实现各种统计图表
- **报告生成**：支持生成交通统计报告

### 4. 资源管理

- **交通设施管理**：管理摄像头、信号灯等交通设施信息
- **资源状态监控**：实时查看设施运行状态
- **资源分布展示**：在地图上展示资源分布情况

## 技术架构

### 前端技术栈

- **框架**：Vue 3
- **路由**：Vue Router 4
- **UI组件库**：Element Plus
- **地图API**：高德地图JavaScript API
- **图表库**：ECharts 6.0.0
- **HTTP客户端**：Axios
- **开发工具**：Vue CLI

### 后端技术栈

- **框架**：Flask
- **数据库**：MySQL
- **数据库连接池**：自定义实现
- **跨域处理**：Flask-CORS
- **配置管理**：环境变量配置

## 环境要求

### 系统要求

- **操作系统**：Windows/Linux/macOS
- **Python版本**：3.7+（后端）
- **Node.js版本**：14.x+（前端）

### 依赖要求

#### 后端依赖

- Flask
- Flask-CORS
- pymysql

#### 前端依赖

- Vue 3
- Vue Router 4
- Element Plus
- ECharts
- Axios
- @amap/amap-jsapi-loader

## 安装部署步骤

### 1. 环境准备

#### 1.1 安装Node.js

从[Node.js官网](https://nodejs.org/)下载并安装Node.js 14.x或更高版本。

#### 1.2 安装Python

从[Python官网](https://www.python.org/)下载并安装Python 3.7或更高版本。

#### 1.3 安装MySQL

安装MySQL数据库，并创建名为`city_traffic`的数据库。

### 2. 后端部署

#### 2.1 进入后端目录

```bash
cd backend
```

#### 2.2 安装Python依赖

```bash
pip install -r requirements.txt
```

#### 2.3 配置数据库连接

编辑`config.py`文件，修改数据库连接信息：

```python
class Config:
    # 数据库配置
    MYSQL_HOST = 'localhost'      # 数据库主机
    MYSQL_PORT = 3306             # 数据库端口
    MYSQL_USER = 'root'           # 数据库用户名
    MYSQL_PASSWORD = 'root'       # 数据库密码
    MYSQL_DB = 'city_traffic'     # 数据库名称
    # ...
```

#### 2.4 初始化数据

运行数据初始化脚本：

```bash
python scripts/init_data.py
```

#### 2.5 启动后端服务

```bash
python app.py
```

后端服务将在`http://localhost:5000`运行。

### 3. 前端部署

#### 3.1 进入前端目录

```bash
cd frontend
```

#### 3.2 安装前端依赖

```bash
npm install
```

#### 3.3 配置API地址

编辑`.env`文件（如果不存在则创建），配置后端API地址：

```
VUE_APP_API_BASE_URL=http://localhost:5000
```

#### 3.4 启动开发服务器

```bash
npm run serve
```

前端开发服务器将在`http://localhost:8080`运行。

#### 3.5 构建生产版本

```bash
npm run build
```

构建产物将生成在`dist`目录下，可部署到任何静态文件服务器。

## 使用方法

### 1. 系统访问

在浏览器中输入`http://localhost:8080`，即可访问智慧交通平台。

### 2. 功能模块使用

#### 2.1 首页

- 查看实时交通关键指标
- 通过卡片快速进入各功能模块

#### 2.2 交通地图

- 使用鼠标缩放和平移地图
- 点击地图上的点位查看详细信息
- 通过图例了解不同颜色代表的拥堵程度

#### 2.3 实时数据监控

- 查看各监测点的实时数据
- 切换不同的数据图表
- 设置数据刷新频率

#### 2.4 统计分析

- 选择时间范围和分析维度
- 查看生成的统计图表
- 导出统计数据或报告

#### 2.5 资源管理

- 查看交通设施列表
- 在地图上定位设施位置
- 查看设施详细信息和运行状态

## 项目结构

```
├── backend/                 # 后端代码
│   ├── models/             # 数据模型
│   ├── routes/             # 路由定义
│   ├── scripts/            # 脚本文件
│   ├── utils/              # 工具函数
│   ├── app.py              # 应用入口
│   └── config.py           # 配置文件
├── frontend/               # 前端代码
│   ├── public/             # 静态资源
│   ├── src/                # 源代码
│   │   ├── assets/         # 资源文件
│   │   ├── components/     # 组件
│   │   ├── views/          # 页面组件
│   │   ├── router/         # 路由配置
│   │   ├── App.vue         # 根组件
│   │   └── main.js         # 入口文件
│   ├── package.json        # 前端依赖
│   └── vue.config.js       # Vue配置
└── README.md              # 项目说明文档
```

## 常见问题解答

### 1. 后端服务启动失败

**问题**：运行`python app.py`后，服务无法启动，提示数据库连接失败。

**解决方案**：
- 检查MySQL服务是否正在运行
- 验证`config.py`中的数据库连接信息是否正确
- 确保`city_traffic`数据库已创建

### 2. 前端页面无法加载数据

**问题**：前端页面可以正常访问，但无法加载交通数据。

**解决方案**：
- 检查后端服务是否正在运行
- 验证浏览器控制台是否有跨域错误
- 检查`.env`文件中的API地址配置是否正确

### 3. 地图无法显示

**问题**：交通地图页面无法显示地图，或只显示灰色背景。

**解决方案**：
- 检查网络连接是否正常
- 验证高德地图API密钥是否正确配置
- 查看浏览器控制台是否有API相关错误

### 4. 数据初始化失败

**问题**：运行`init_data.py`脚本时失败。

**解决方案**：
- 检查数据库连接是否正常
- 确保数据库用户具有创建表和插入数据的权限
- 查看脚本执行输出，定位具体错误信息

## 开发说明

### 后端开发

- 后端采用Flask框架，使用蓝图（Blueprint）组织路由
- 数据库操作通过`utils/database.py`中的工具函数实现
- 新增API路由时，需在对应的蓝图文件中添加路由定义

### 前端开发

- 前端采用Vue 3的Composition API开发
- 页面组件位于`src/views/`目录下
- 新增页面时，需在`src/router/index.js`中添加路由配置
- 组件命名采用大驼峰命名法

## 版本说明

### 当前版本

- 版本号：1.0.0
- 发布日期：2025-12-02

### 版本历史

- v1.0.0 (2025-12-02)：初始版本，包含基础功能


## 版权信息

© 2024 智通行·睿途通达项目组 版权所有

## 致谢

感谢所有为该项目做出贡献的团队成员和技术支持人员。

